<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>L√°bia Extrema ‚Ä¢ Bot</title>

<style>
*{box-sizing:border-box;font-family:system-ui,Arial}
body{
  margin:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.phone{
  width:390px;
  height:640px;
  background:#f2f2f2;
  border-radius:16px;
  box-shadow:0 20px 45px rgba(0,0,0,.35);
  overflow:hidden;
  display:flex;
  flex-direction:column;
}

.header{
  background:#b30000;
  color:#fff;
  padding:12px;
}

.title{
  display:flex;
  align-items:center;
  gap:6px;
  font-weight:800;
  font-size:18px;
}

.logo{
  width:28px;
  height:28px;
  border-radius:50%;
  border:2px solid #fff;
}

.sub{
  font-size:12px;
  margin-top:4px;
  opacity:.9;
}

.messages{
  flex:1;
  padding:12px;
  overflow-y:auto;
}

.msg{
  max-width:78%;
  margin-bottom:10px;
  padding:10px 12px;
  border-radius:12px;
  font-size:14px;
  line-height:1.4;
  animation:fade .3s ease;
}

.bot{
  background:#fff;
  border-top-left-radius:0;
}

.user{
  background:#ffd6d6;
  margin-left:auto;
  border-top-right-radius:0;
}

.buttons{
  padding:10px;
  background:#f7f7f7;
  border-top:1px solid rgba(0,0,0,.1);
  display:flex;
}

.buttons button{
  flex:1;
  padding:10px;
  border-radius:20px;
  border:none;
  background:#b30000;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

@keyframes fade{
  from{opacity:0;transform:translateY(6px)}
  to{opacity:1}
}

.pix-box{
  margin-top:10px;
  background:#f5f5f5;
  border:1px solid #ccc;
  border-radius:8px;
  padding:8px;
}

.pix-box input{
  width:100%;
  border:none;
  background:transparent;
  font-size:12px;
  outline:none;
  color:#333;
}

.pix-box button{
  margin-top:6px;
  width:100%;
  padding:6px;
  border:none;
  border-radius:6px;
  background:#b30000;
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

.online-status {
  color: #1aff6c; /* verde neon bonito */
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 6px;
}

.dot {
  width: 9px;
  height: 9px;
  background: radial-gradient(circle, #7cffb2 0%, #1aff6c 60%, #00c853 100%);
  border-radius: 50%;
  animation: pulseGlow 1.1s infinite;
  box-shadow: 0 0 6px rgba(26, 255, 108, 0.9);
}

@keyframes pulseGlow {
  0% {
    transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 6px rgba(26, 255, 108, 0.9);
  }
  50% {
    transform: scale(1.35);
    opacity: 0.6;
    box-shadow: 0 0 14px rgba(26, 255, 108, 1);
  }
  100% {
    transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 6px rgba(26, 255, 108, 0.9);
  }
}
</style>
</head>

<body>

<div class="phone">
  <div class="header">
    <div class="title">
      <img src="https://files.catbox.moe/3jvcid.jpg" class="logo">
      <span>L√°bia Extrema</span>
    </div>
    <div class="sub online-status">
    <span class="dot"></span>
     bot ‚Ä¢ online agora
   </div>
  </div>

  <div class="messages" id="chat"></div>
  <div class="buttons" id="buttons"></div>
</div>

<script>
let paymentId = null;

const chat = document.getElementById("chat");
const buttons = document.getElementById("buttons");

function botMsg(text, delay){
  setTimeout(()=>{
    const div = document.createElement("div");
    div.className = "msg bot";
    div.innerHTML = text;
    chat.appendChild(div);
    chat.scrollTop = chat.scrollHeight;
  }, delay);
}

function setButtons(list){
  buttons.innerHTML = "";
  list.forEach(b=>{
    const btn = document.createElement("button");
    btn.innerText = b.text;
    btn.onclick = b.action;
    buttons.appendChild(btn);
  });
}

/* ===== MENSAGENS DIVIDIDAS ===== */
botMsg("üúÇ ‚öõ Bem-vindo √† irmandade mais foda do Brasil.", 500);
botMsg("Aqui n√£o existe gados ‚Äî s√≥ homens que pegam mulheres f√°cil. üí™", 1000);

botMsg("üî± Aqui eu te ensino:", 2000);
botMsg("üîû Como se comportar.\nüîû Como falar perto dela.\nüòà O que falar pra ela.", 3000);

botMsg("‚ù§Ô∏è‚Äçüî• A psicologia por tr√°s dos perfumes que acendem desejos nas mentes femininas.\nüòà E muito mais‚Ä¶", 5200);

botMsg("‚ö†Ô∏è Usando:\n‚öú Psicologia Obscura\nüåÄ Manipula√ß√£o Emocional\nüß† Neurolingu√≠stica\nüìò Princ√≠pios de Persuas√£o\nüèπ Elabora√ß√£o de Elogios Subjetivos", 6800);

botMsg("üì≤ 2 mil mensagens prontas baseadas em psicologia e manipula√ß√£o.\nFaz ela responder na mesma hora. üîû", 8800);

botMsg("üî• Fa√ßa qualquer pessoa comer na sua m√£o e ficar louca pra te dar. üòàüîû", 10000);

botMsg("Para manter tudo funcionando e ajudar nas manuten√ß√µes,\ncobramos apenas um valor simb√≥lico de R$10.\n\nQuem entra aqui n√£o paga‚Ä¶ investe em si mesmo üîû", 12200);

/* ===== BOT√ÉO √öNICO ===== */
setTimeout(()=>{
  setButtons([
    { text: "üí≥ Gerar PIX R$10", action: gerarPix }
  ]);
}, 10000);

/* üëá FICA AQUI */
function copiarPix(){
  const input = document.getElementById("pixCode");
  if (!input) return;

  input.select();
  input.setSelectionRange(0, 99999);
  navigator.clipboard.writeText(input.value);

  alert("‚úÖ C√≥digo PIX copiado!");

  // ‚è≥ Mostrar bot√£o "J√° paguei" ap√≥s 4 segundos
  setTimeout(() => {
    const btn = document.getElementById("jaPagueiBtn");
    if (btn) btn.style.display = "block";
  }, 4000);
}

async function checarPagamento(){
  if (!paymentId) return;

  botMsg("‚è≥ Verificando pagamento...", 300);

  try {
    const res = await fetch(
      `https://pix-backend-cfok.onrender.com/status/${paymentId}`
    );

    const data = await res.json();

    if (data.status === "approved") {

  // üîì libera VIP para o index.html
  localStorage.setItem("isVIP", "true");

  botMsg("üéâ Pagamento confirmado! Seu acesso VIP foi liberado.", 800);

  // ‚è© redireciona para o index ap√≥s 2 segundos
  setTimeout(() => {
    window.location.href = "index.html";
  }, 2000);

} else {
      botMsg("‚è≥ Pagamento ainda n√£o confirmado. finalize o pagamento e clique novamente.", 800);
    }

  } catch (e) {
    botMsg("‚ùå Erro ao verificar pagamento.", 800);
  }
}

async function gerarPix(){
  chat.innerHTML += `<div class="msg user">Gerar PIX</div>`;
  botMsg("Gerando pagamento via PIX‚Ä¶ ‚è≥", 500);

  try {
    const res = await fetch("https://pix-backend-cfok.onrender.com/gerar-pix", {
      method: "POST",
      headers: { "Content-Type": "application/json" }
    });

    if (!res.ok) throw new Error("Erro no servidor");

    const data = await res.json();
    paymentId = data.paymentId; // üëà salva o ID

    botMsg(`
      ‚úÖ PIX GERADO R$10<br><br>

      <img src="data:image/png;base64,${data.qrBase64}" width="180"><br>

      <div class="pix-box">
        <input id="pixCode" value="${data.qr}" readonly>

        <button onclick="copiarPix()">üìã Copiar c√≥digo PIX</button>

        <button
          id="jaPagueiBtn"
          onclick="checarPagamento()"
          style="display:none;margin-top:6px;background:#0a8f3c;">
          ‚úÖ J√° paguei
        </button>
      </div>
    `, 1200);
     
      // ‚è≥ Mensagem autom√°tica ap√≥s 15 segundos
        setTimeout(() => {
        botMsg(`
        ‚ú®  Seu Acesso VIP aparece sozinho ap√≥s o pagamento.<br>
        Se houver atraso, clique em <b>J√° paguei</b> e o sistema libera seu acesso instantaneamente.
        `, 0);
     }, 30000);

  } catch (e) {
    botMsg("‚ùå N√£o foi poss√≠vel gerar o PIX. Tente novamente.", 1200);
  }
}
</script>

</body>
</html>
